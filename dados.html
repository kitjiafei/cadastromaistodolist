<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gatos com religi√µes</title>
    <link rel="stylesheet" href="meow.css">
    <div id="ao" class="oao"> 
        <header>
            <nav>
                <p class="logo" href="/"><img id="eita" src="simbolos-religiosos.png"></p>
                <div class="mobile-menu">
                <div class="linha1"></div>
                <div class="linha2"></div>
                <div class="linha3"></div>
                </div>
                <ul class="lista">
                    <li><a href="cats.html">Home</a></li>
                    <li><a href="sugestao-cadastro.html">Cadastro</a></li>
                    <li><a href="sobre.html">Sobre</a></li>
                    <li><button onclick="sair();" id="but">sair</button></li>
                </ul>
            </nav>
        </header>
    </div>
    <main>
        <div id="cadastro">
            <div id="dado">
             <ul id="alinha"> </ul>
            </div>
        </div>
    </main>
    <script src="semor.js"></script>
    
</head>
<script>
    let email = document.getElementById('email');
    let senha = document.getElementById('senha');
    let form = document.querySelector('form');
    let textForm = document.getElementById('textForm');
    let textEmail = document.getElementById('textEmail');
    let textPassword = document.getElementById('textPassword');
    
    
     function entrar(){
        let usuario = document.querySelector('#email')
        let senha = document.querySelector('#senha')
        let msgError = document.querySelector('#msgError')
        let listaUser = []
    
        let userValid = {
            email: '',
            senha: ''
        }
        listaUser = JSON.parse(localStorage.getItem('listaUser'));
    
        listaUser.forEach((item) => {
            if(usuario.value == item.emailCad && senha.value == item.senhaCad){ 
                userValid = {
                    email: item.emailCad,
                    senha: item.senhaCad
                }
            }
        })
        if(usuario.value == userValid.email && senha.value == userValid.senha){
        window.location.href= 'cats.html'
                let mathRandom = Math.random().toString(16).substr(2)
                let token = mathRandom + mathRandom
                
                localStorage.setItem('token', token)
                localStorage.setItem('emailLogado', JSON.stringify(userValid))
                console.log (token)
               localStorage.setItem('emailLogado', JSON.stringify(userValid))
        } else {
            email.focus()
        }
     }
     function mostra(){
        localStorage.setItem(emailLogado.value, token.value);
        var localStor = localStorage.getItem('emailLogado'.value);
        document.body.querySelector('#cadastro').innerHTML = localStor;
     }
    </script>
<body>
    
</body>
</html>
